"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[209],{4951:(e,a,r)=>{r.d(a,{Z:()=>l});r(9867);var t=r(2834);function l(e){let{onClick:a,title:r,type:l="button"}=e;return(0,t.jsx)("div",{children:(0,t.jsx)("button",{onClick:()=>a(),type:l,className:"text-gray-700 bg-white ".concat("Primary"===l&&"bg-textPrimary text-primary hover:text-textPrimary"," border border-gray-300 focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-200 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-gray-800 dark:text-white dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600 dark:focus:ring-gray-700"),children:r})})}},3782:(e,a,r)=>{r.d(a,{Z:()=>l});r(9867);var t=r(2834);const l=function(e){let{field:a,handleFieldChange:r}=e;return(0,t.jsx)("div",{children:(0,t.jsxs)("div",{className:"relative z-0",children:[(0,t.jsx)("input",{value:a.value,onChange:e=>r(a.name,e.target.value,a.type),type:"date"===a.type?"date":"text",id:a.name,required:a.required,"aria-describedby":"standard_success_help",className:"block py-2.5 px-0 w-full text-sm text-textAccent bg-transparent border-0 border-b-2 border-textAccent appearance-none dark:text-white dark:border-green-500 dark:focus:border-green-500 focus:outline-none focus:ring-0 peer ".concat(!0===a.disabled?"cursor-not-allowed":""),placeholder:" "}),(0,t.jsx)("label",{htmlFor:a.name,className:"absolute text-sm text-textAccent dark:text-green-500 duration-300 transform -translate-y-5 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-5 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto",children:a.label})]})})}},6423:(e,a,r)=>{r.d(a,{Z:()=>l});r(9867);var t=r(2834);function l(e){let{field:a,handleFieldChange:r}=e;return console.log(a.label),(0,t.jsxs)("div",{className:"relative z-0",children:[(0,t.jsx)("label",{htmlFor:a.name,className:"absolute text-sm text-textAccent dark:text-green-500 duration-300 transform -translate-y-5 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-5 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto",children:a.label}),(0,t.jsxs)("select",{id:a.name,value:a.value,onChange:e=>r(a.name,e.target.value,a.type),className:"mt-3 p-1 border rounded w-full cursor-pointer",required:!0,children:[(0,t.jsxs)("option",{selected:!0,disabled:!0,children:["Select ",a.label]},a.value),a.options.map((e=>(0,t.jsx)("option",{value:e.value,children:e.name},e.name)))]})," "]})}},8431:(e,a,r)=>{r.a(e,(async(e,t)=>{try{r.d(a,{Z:()=>v});var l=r(9867),n=r(9481),s=r(4951),o=r(3782),d=r(6423),i=r(6885),u=r(1357),m=r(2834),c=e([u]);u=(c.then?(await c)():c)[0];const p=(0,i.T)("user");function v(e){let{closeModal:a}=e;const[r,t]=(0,l.useState)([{name:"customer_name",label:"Customer name ",value:"",required:!0},{name:"customer_trading_as",label:"Customer Trading As",value:"",required:!0},{name:"ABN_no",label:"ABN no",value:"",required:!0},{name:"ACN_no",label:"ACN no",value:"",required:!0},{name:"website",label:"Website",value:"",required:!0},{name:"local_overseas_customer",label:"Local / Overseas customer ",value:"local",required:!0,options:[{name:"local"},{name:"international"}]},{name:"customer_address",label:"Customer address ",value:"",required:!0},{name:"country",label:"Country",value:"",required:!0},{name:"state",label:"State",value:"",required:!0},{name:"suburb",label:"Suburb",value:"",required:!0},{name:"postcode",label:"Postcode",value:"",type:"number",required:!0},{name:"contact_person_name",label:"Contact person name",value:"",required:!0},{name:"phone_number ",label:"Phone number",value:"",required:!0,type:"number"},{name:"email",label:"Email",value:"",required:!0},{name:"customer_category",label:"Customer category",value:"One off customer",required:!0,options:[{name:"Key customer"},{name:"Regular customer"},{name:"One off customer"}]},{name:"customer_type",label:"Customer type",value:"",required:!0},{name:"data_shared_with_customer",label:"Data shared with customer",value:"",required:!0},{name:"department_managing_customer",label:"Department managing customer",value:"",required:!0},{name:"customer_manager",label:"Customer manager",value:"",required:!0},{name:"contract_commencement_date",label:"Contract Commencement date",value:"",required:!0,type:"date"},{name:"contract_end_date",label:"Contract end date",value:"",type:"date",required:!1},{name:"sensitivity_of_data_involved",label:"Sensitivity of data involved",value:"Availability",required:!0,options:[{name:"Confidentiality"},{name:"Integrity"},{name:"Availability"}]},{name:"customer_agreement",label:"Customer agreement",value:"No",required:!0,options:[{name:"Yes "},{name:"No"}]},{name:"customer_approval_status",label:"Customer approval status",value:"Draft",required:!0,options:[{name:"Draft "},{name:"approved"},{name:"rejected"}]},{name:"date_entered",label:"Date entered",value:"",type:"date",required:!0}]),i=(e,a,r)=>{("number"!==r||/^[0-9]*$/.test(a))&&t((r=>{const t=r.findIndex((a=>a.name===e)),l=[...r];return l[t].value=a,l}))},c=async()=>{const e=r.reduce(((e,a)=>({...e,[a.name]:a.value})),{});e.company_id=null===p||void 0===p?void 0:p.company_id;const t=await u.Z.post("customer/",{customer:e});alert(t.message),a()};return(0,m.jsx)(n.Z,{children:(0,m.jsx)("form",{onSubmit:e=>(e=>{e.preventDefault(),c()})(e),children:(0,m.jsx)("div",{className:"fixed inset-0 z-10 overflow-y-auto rounded-lg ",children:(0,m.jsxs)("div",{className:"flex items-end justify-center min-h-screen h-40 pt-4 px-4 pb-20 text-center sm:block sm:p-0",children:[(0,m.jsx)("div",{className:"fixed inset-0 transition-opacity","aria-hidden":"true",children:(0,m.jsx)("div",{className:"absolute inset-0 bg-gray-500 opacity-75"})}),(0,m.jsxs)("div",{className:"inline-block align-bottom bg-white border-2 rounded-lg text-left shadow-xl transform transition-all sm:my-8 sm:align-middle w-[70vh]",children:[(0,m.jsx)("div",{className:"bg-secondary px-4 rounded-lg pt-5 pb-4 sm:p-6 sm:pb-4 !important rounded-lg",children:(0,m.jsx)("div",{className:"border p-4 bg-primary rounded-lg",children:(0,m.jsxs)("div",{className:"pb-5",children:[(0,m.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Create Customer"}),r.map((e=>(0,m.jsx)("div",{className:"mt-2",children:e.options?(0,m.jsx)(d.Z,{handleFieldChange:(e,a,r)=>i(e,a,r),field:e},e.name):(0,m.jsx)(o.Z,{handleFieldChange:(e,a,r)=>i(e,a,r),field:e},e.name)},e.name)))]})})}),(0,m.jsxs)("div",{className:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse rounded-lg",children:[(0,m.jsx)(s.Z,{onClick:()=>{},type:"Primary",title:"Save"}),(0,m.jsx)(s.Z,{onClick:()=>a(),title:"Cancel"})]})]})]})})})})}t()}catch(b){t(b)}}))},8209:(e,a,r)=>{r.a(e,(async(e,t)=>{try{r.r(a),r.d(a,{default:()=>p});var l=r(9867),n=r(4951),s=r(8431),o=r(1357),d=r(6885),i=r(4709),u=r(2834),m=e([s,o,i]);[s,o,i]=m.then?(await m)():m;const b=(0,d.T)("user");function p(){const[e,a]=(0,l.useState)(!1),[r,t]=(0,l.useState)(null);(0,l.useEffect)((()=>{d()}),[e,r]);const d=async()=>{const e=await o.Z.get("customer/".concat(b.company_id));console.log(e),t(e.data)};return(0,u.jsx)("div",{className:"bg-primary w-full h-full",children:(0,u.jsxs)("div",{className:"m-10 gap-2 flex flex-col",children:[e&&(0,u.jsx)(s.Z,{closeModal:()=>a(!1)}),(0,u.jsxs)("div",{className:"flex justify-between",children:[(0,u.jsx)(n.Z,{title:"Create Customer",type:"Primary",onClick:()=>a(!0)}),(0,u.jsx)(n.Z,{title:"Fetch Data",onClick:()=>a(!e)})]}),(0,u.jsx)("div",{className:"divider border-b-2"}),(0,u.jsx)("div",{className:"w-[100rem]",children:r&&(0,u.jsx)(i.Z,{filteredCustomer:r})})]})})}t()}catch(c){t(c)}}))},4709:(e,a,r)=>{r.a(e,(async(e,t)=>{try{r.d(a,{Z:()=>i});var l=r(9867),n=r(1475),s=r(9923),o=r(2834),d=e([s]);s=(d.then?(await d)():d)[0];const i=e=>{let{filteredCustomer:a,handleDelete:r}=e;const[t,s]=(0,l.useState)(!1),[d,i]=(0,l.useState)([{}]);console.log("filtered",a);const u=[{name:"customer_name",label:"Customer name ",value:"",required:!0},{name:"customer_trading_as",label:"Customer Trading As",value:"",required:!0},{name:"ABN_no",label:"ABN no",value:"",required:!0},{name:"ACN_no",label:"ACN no",value:"",required:!0},{name:"website",label:"Website",value:"",required:!0},{name:"local_overseas_customer",label:"Local / Overseas customer ",value:"local",required:!0,options:[{name:"local"},{name:"international"}]},{name:"customer_address",label:"Customer address ",value:"",required:!0},{name:"country",label:"Country",value:"",required:!0},{name:"state",label:"State",value:"",required:!0},{name:"suburb",label:"Suburb",value:"",required:!0},{name:"postcode",label:"Postcode",value:"",type:"number",required:!0},{name:"contact_person_name",label:"Contact person name",value:"",required:!0},{name:"phone_number ",label:"Phone number",value:"",required:!0,type:"number"},{name:"email",label:"Email",value:"",required:!0},{name:"customer_category",label:"Customer category",value:"One off customer",required:!0,options:[{name:"Key customer"},{name:"Regular customer"},{name:"One off customer"}]},{name:"customer_type",label:"Customer type",value:"",required:!0},{name:"data_shared_with_customer",label:"Data shared with customer",value:"",required:!0},{name:"department_managing_customer",label:"Department managing customer",value:"",required:!0},{name:"customer_manager",label:"Customer manager",value:"",required:!0},{name:"contract_commencement_date",label:"Contract Commencement date",value:"",required:!0,type:"date"},{name:"contract_end_date",label:"Contract end date",value:"",type:"date",required:!1},{name:"sensitivity_of_data_involved",label:"Sensitivity of data involved",value:"Availability",required:!0,options:[{name:"Confidentiality"},{name:"Integrity"},{name:"Availability"}]},{name:"customer_agreement",label:"Customer agreement",value:"No",required:!0,options:[{name:"Yes "},{name:"No"}]},{name:"customer_approval_status",label:"Customer approval status",value:"Draft",required:!0,options:[{name:"Draft "},{name:"approved"},{name:"rejected"}]},{name:"date_entered",label:"Date entered",value:"",type:"date",required:!0}],[m,c]=(0,l.useState)(u.reduce(((e,a)=>{let{name:r}=a;return e[r]=!0,e}),{})),b=u.map((e=>({label:e.label,value:e.name})));return(0,o.jsxs)("div",{className:"scollbar overflow-y-auto overflow-x-auto shadow-md sm:rounded-lg p-5",children:[(0,o.jsxs)("div",{className:"mb-4",children:[(0,o.jsx)("label",{htmlFor:"filter",children:"Filter Table"}),(0,o.jsx)(n.ZP,{id:"filter",options:b,isMulti:!0,value:b.filter((e=>m[e.value])),onChange:e=>{const a=b.reduce(((a,r)=>(a[r.value]=e.some((e=>e.value===r.value)),a)),{});c(a)}})]}),(0,o.jsx)("div",{className:"scrollbar border-2 overflow-x-auto ",children:(0,o.jsxs)("table",{className:"scollbar overflow-x-auto w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400",children:[(0,o.jsx)("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("th",{scope:"col",className:"px-6 py-3",children:"Action"}),u.map((e=>m[null===e||void 0===e?void 0:e.name]?(0,o.jsx)("th",{scope:"col",className:"border p-2 whitespace-nowrap",children:(0,o.jsx)("span",{children:e.label})},null===e||void 0===e?void 0:e.name):null))]})}),(0,o.jsx)("tbody",{children:a&&a.map((e=>(0,o.jsxs)("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-200 cursor-pointer dark:hover:bg-gray-600",children:[(0,o.jsxs)("td",{className:"flex flex-row px-6 py-4 gap-2 items-center align-center justify-center",children:[(0,o.jsx)("a",{href:"#",className:"font-medium text-blue-600 dark:text-blue-500 hover:underline",children:"Edit"}),(0,o.jsx)("a",{onClick:()=>r(e.id),href:"#",className:"font-medium text-red-500 dark:text-blue-500 hover:underline",children:"Delete"})]}),u.map((a=>m[a.name]?(0,o.jsx)("td",{className:"border p-2",children:e[a.name]},"".concat([e.id],"-").concat(a.name)):null))]},e)))})]})})]})};t()}catch(i){t(i)}}))}}]);
//# sourceMappingURL=209.b2457db7.chunk.js.map