{"version":3,"file":"static/js/559.c4c71ecb.chunk.js","mappings":"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","sources":["components/Company.js","components/DivisionTreeNode.js","components/Modal.js","components/TreeNode.js","components/UpdateCompanyModal.js","components/Upload.js","components/company/CompanyTable.js","components/company/SiteEntry.js","components/company/DivisionEntry.js","components/CheckBox.js","components/CheckBoxGroup.js","components/company/SiteForm.js"],"sourcesContent":["// Company.js\r\nimport React, { useEffect, useState, useRef } from 'react'\r\nimport CompanyTable from './company/CompanyTable'\r\nimport SiteForm from './company/SiteForm'\r\nimport httpClientRequest from '../lib/httpClientRequest'\r\nimport Modal from './Modal'\r\nimport FileUploadComponent from './Upload'\r\nimport { decryptFromStorage, encryptAndStore } from '../lib/SecureStorage'\r\nimport axios from 'axios'\r\nconst userData = decryptFromStorage('user')\r\nconsole.log(userData)\r\nconst Company = () => {\r\n  const [addNew, setAddNew] = useState(false)\r\n  const [searchTerm, setSearchTerm] = useState('')\r\n  const [sites, setSites] = useState([{}])\r\n  const [company, setCompany] = useState([])\r\n  const [fields, setFields] = useState([])\r\n  const [fetchingData, setFetchingData] = useState(true)\r\n  const [saving, setSaving] = useState(false)\r\n  const [pageSize] = useState(10)\r\n  const [page, setPage] = useState(1)\r\n  const [deleteItemId, setDeleteItemId] = useState(null)\r\n  const [companyFIle, setCompanyFile] = useState(null)\r\n  const [isModalOpen, setModalOpen] = useState(false)\r\n  const [newCompanyData, setNewCompanyData] = useState(null)\r\n  const fileUploadRef = useRef()\r\n\r\n  useEffect(() => {\r\n    setFetchingData(true)\r\n    fetchData()\r\n  }, [page, saving === true])\r\n\r\n  const fetchData = async () => {\r\n    const companyData = await httpClientRequest.get(`/company/?companyId=${userData.company_id}&page=${page}&page_size=${pageSize}`)\r\n    if (companyData?.is_success === false || !companyData) return alert(companyData?.message)\r\n    console.log(companyData)\r\n    setCompany(companyData)\r\n    setFetchingData(false)\r\n  }\r\n\r\n  const addNewSite = () => {\r\n    setSites(prevSites => [...prevSites, { id: Date.now(), phone: '', company: '' }])\r\n  }\r\n\r\n  const removeSite = (id) => {\r\n    setSites(prevSites => prevSites.filter(site => site.id !== id))\r\n  }\r\n\r\n  const handleSiteInputChange = (id, field, value) => {\r\n    setSites(prevSites =>\r\n      prevSites.map(site =>\r\n        site.id === id ? { ...site, [field]: value } : site\r\n      )\r\n    )\r\n  }\r\n\r\n  const handleInputChange = (id, field, value) => {\r\n    setFields({ ...fields, [field]: value })\r\n  }\r\n\r\n  const createNewCompany = async (e) => {\r\n    e.preventDefault()\r\n    setSaving(true)\r\n    // const fileUpload = await fileUploadRef.current.handleSaveClick('organization')\r\n    const fileUploaded = await uploadFile()\r\n    const payload = newCompanyData\r\n    console.log(fileUploaded)\r\n    payload.companyFieldData.organisation_structure = fileUploaded.organizationChartFileName\r\n    payload.companyFieldData.company_file = fileUploaded.companyFileFileName\r\n    console.log(payload)\r\n    const companyDataResult = await httpClientRequest.post('/company', payload)\r\n    console.log(companyDataResult)\r\n    setAddNew(false)\r\n    setSaving(false)\r\n  }\r\n\r\n  const uploadFile = async () => {\r\n    const fileUploaded = {}\r\n    try {\r\n      const uploadPromises = []\r\n\r\n      const filesToUpload = [\r\n        { key: 'organisation', file: newCompanyData.organizationChart, target: 'organizationChartFileName' },\r\n        { key: 'company_file', file: newCompanyData.company_file, target: 'companyFileFileName' }\r\n        // Add more files if needed\r\n      ]\r\n\r\n      for (const { key, file, target } of filesToUpload) {\r\n        const uploadPromise = httpClientRequest.upload(key, file)\r\n          .then(response => {\r\n            console.log(response)\r\n            fileUploaded[target] = response?.filename\r\n          })\r\n\r\n        uploadPromises.push(uploadPromise)\r\n      }\r\n\r\n      // Wait for all upload promises to complete\r\n      await Promise.all(uploadPromises)\r\n\r\n      // The rest of your code after uploads\r\n      // ...\r\n    } catch (error) {\r\n      // Handle errors\r\n      console.error(error)\r\n    }\r\n    return fileUploaded\r\n  }\r\n\r\n  const toggleAddNew = () => {\r\n    setAddNew(!addNew)\r\n  }\r\n\r\n  let filteredSites = []\r\n  if (!fetchingData && company.data && company.data.rows.length !== 0) {\r\n    if (company.data.rows.length === 0) return\r\n    filteredSites = company.data.rows.filter(item =>\r\n      // item?.company_organization.includes(searchTerm)\r\n      item\r\n    )\r\n  }\r\n\r\n  const handleDelete = (id) => {\r\n    setDeleteItemId(id)\r\n    setModalOpen(true)\r\n  }\r\n\r\n  const handleCloseModal = () => {\r\n    setModalOpen(false)\r\n    setDeleteItemId(null)\r\n  }\r\n\r\n  const handleConfirmDelete = async () => {\r\n    setSaving(true)\r\n    const companyData = await httpClientRequest.delete(`company/?company_id=${deleteItemId}`)\r\n    // Close the modal\r\n    setSaving(false)\r\n    handleCloseModal()\r\n  }\r\n\r\n  const allFieldsData = (data) => {\r\n    data.company_file = companyFIle\r\n    setNewCompanyData(data)\r\n  }\r\n\r\n  const handleCompanyFileSelect = (file) => {\r\n    setCompanyFile(file)\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex justify-around h-full w-full bg-secondary p-5\">\r\n      <div className='h-[90vh] w-[70%]   justify-around flex gap-2  p-5 bg-secondary'>\r\n        <div id='data' className={`flex  w-[150vh]  gap-2 h-full  flex-1 flex-col bg-secondary ${addNew ? 'hidden' : ''}`}>\r\n          {isModalOpen && (<Modal.DeleteModal handleCloseModal={handleCloseModal} handleConfirmDelete={handleConfirmDelete}/>)}\r\n          <div className='flex justify-between px-5 bg-primary p-3 '>\r\n            <div className=\"rounded-md border dark:bg-gray-900\">\r\n              <label htmlFor=\"table-search\" className=\"sr-only\">Search</label>\r\n              <div className=\"relative mt-1\">\r\n                <div className=\"absolute inset-y-0 rtl:inset-r-0 start-0 flex items-center ps-3 pointer-events-none\">\r\n                  <svg className=\"w-4 h-4 text-gray-500 dark:text-gray-400\" aria-hidden=\"true\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 20 20\">\r\n                    <path stroke=\"currentColor\" strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"m19 19-4-4m0-7A7 7 0 1 1 1 8a7 7 0 0 1 14 0Z\"/>\r\n                  </svg>\r\n                </div>\r\n                <input\r\n                  type=\"text\"\r\n                  id=\"table-search\"\r\n                  className=\"block ps-10 text-md text-gray-900 border border-secondary rounded-lg w-80 bg-gray-50 focus:ring-blue-500 focus:border-blue-500 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500\"\r\n                  placeholder=\"Search for Company\"\r\n                  value={searchTerm}\r\n                  onChange={(e) => setSearchTerm(e.target.value)}\r\n                />\r\n              </div>\r\n            </div>\r\n            <button onClick={() => toggleAddNew()}>{addNew ? 'Cancel' : 'Register New'}</button>\r\n          </div>\r\n          <div className='relative p-3 scrollbar overflow-x-auto overflow-y-auto h-full bg-primary'>\r\n            {!fetchingData && (<CompanyTable handleDelete={handleDelete} filteredSites={filteredSites} />) }\r\n          </div>\r\n          <div className='h-[3rem] bg-primary flex flex-1 justify-between px-5 p-3 '>\r\n            {!fetchingData && <button className='underline' onClick={() => page > 1 ? setPage(page - 1) : ''}>Prevous Page</button> }\r\n            {!fetchingData && <button className='underline' onClick={() => company.data.count / pageSize > page ? setPage(page + 1) : ''}>Next Page</button> }\r\n          </div>\r\n        </div>\r\n\r\n        <div id='table' className={`flex scrollbar overflow-y-scroll ${addNew ? '' : 'hidden'} bg-primary w-[50rem] p-5 rounded-lg`}>\r\n          <form onSubmit={(e) => createNewCompany(e)} className=\"w-[40rem] mx-auto m-5 gap-3 p-5\">\r\n            {\r\n              addNew && (\r\n                <><SiteForm\r\n                  submited={addNew}\r\n                  allFieldsData={allFieldsData}\r\n                  sites={sites}\r\n                  handleInputChange={handleInputChange}\r\n                  handleSiteInputChange={handleSiteInputChange}\r\n                  removeSite={removeSite}\r\n                  addNewSite={addNewSite} />\r\n                <FileUploadComponent\r\n                  onFileSelect={handleCompanyFileSelect}\r\n                  title=\"Upload Company File\" />\r\n                <button\r\n                  type=\"submit\"\r\n                  className=\"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800 mt-5\">Save</button></>\r\n              )\r\n            }\r\n            <a onClick={() => setAddNew(false)} href='#' className=\"text-white bg-orange-400 hover:bg-blue-800 focus:ring-4 focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 me-2 mb-2 dark:bg-blue-600 dark:hover:bg-blue-700 focus:outline-none dark:focus:ring-blue-800 mt-5\">Cancel</a>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Company\r\n","import React, { useState } from 'react'\r\n\r\nconst TreeNode = ({ node }) => {\r\n  const [expanded, setExpanded] = useState(false)\r\n\r\n  const toggleOn = () => {\r\n    setExpanded(true)\r\n  }\r\n\r\n  const toggleOff = () => {\r\n    setExpanded(false)\r\n    console.log(expanded)\r\n  }\r\n\r\n  return (\r\n    <div className='cursor-pointer px-3 w-[18rem]'\r\n      // onMouseEnter={() => setExpanded(true)}\r\n      // onMouseLeave={() => setExpanded(false)}\r\n    >\r\n      <div className=\"flex justify-between items-center\">\r\n        <div className=\"text-sm font-medium text-gray-900\">{node.department_name}</div>\r\n        <button className='font-bold text-lg px-1 hover:border-2 h-7' onClick={expanded ? toggleOff : toggleOn}>{expanded ? 'X' : '▼'}</button>\r\n      </div>\r\n      {expanded && (\r\n        <div className=\"ml-8 flex justify-between\">\r\n          <div>\r\n            <p>Department Name: {node.department_name}</p>\r\n            <p>Resonsible Person: {node.department_responsible_person}</p>\r\n          </div>\r\n        </div>\r\n      )}\r\n      <div className=\"mt-2\">\r\n        {\r\n          expanded && (<div className='w-full flex items-center flex-row-reverse gap-3'>\r\n            <a href=\"#\" className=\"font-medium text-blue-600 dark:text-blue-500 hover:underline\">\r\n            Edit\r\n            </a>\r\n            <a href=\"#\" className=\"font-medium text-red-500 dark:text-blue-500 hover:underline\">\r\n            Delete\r\n            </a>\r\n          </div>)\r\n        }\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst DivisionTreeNode = ({ data }) => {\r\n  return (\r\n    (data.length > 0) &&\r\n    <div className=\"flex flex-col\">\r\n      <div className=\"-my-2 sm:-mx-6 lg:-mx-8\">\r\n        <div className=\"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8\">\r\n          <div className=\"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg\">\r\n            <table className=\"min-w-full divide-y divide-gray-200\">\r\n              <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                {data.map((rootNode) => (\r\n                  <tr key={rootNode.id}>\r\n                    <td className=\"px-1 py-1 whitespace-nowrap  hover:bg-gray-100\">\r\n                      <TreeNode node={rootNode} />\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\nexport default DivisionTreeNode\r\n","import React from 'react'\r\nimport FileViewer from 'react-file-viewer'\r\n\r\nconst Modal = {\r\n  DeleteModal: ({ handleConfirmDelete, handleCloseModal }) => (\r\n    <div className=\"fixed inset-0 z-10 overflow-y-auto\">\r\n      <div className=\"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\">\r\n        <div className=\"fixed inset-0 transition-opacity\" aria-hidden=\"true\">\r\n          <div className=\"absolute inset-0 bg-gray-500 opacity-75\"></div>\r\n        </div>\r\n\r\n        <span className=\"hidden sm:inline-block sm:align-middle sm:h-screen\" aria-hidden=\"true\">\r\n      &#8203;\r\n        </span>\r\n\r\n        <div className=\"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full\">\r\n          {/* Modal content */}\r\n          <div className=\"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4\">\r\n            <div className=\"sm:flex sm:items-start\">\r\n              <div className=\"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left\">\r\n                <h3 className=\"text-lg font-medium text-gray-900\">Confirm Deletion</h3>\r\n                <div className=\"mt-2\">\r\n                  <p className=\"text-sm text-gray-500\">\r\n                Are you sure you want to delete this item?\r\n                  </p>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={handleConfirmDelete}\r\n              className=\"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-blue-600 text-base font-medium text-white hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:ml-3 sm:w-auto sm:text-sm\"\r\n            >\r\n          Confirm\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              onClick={handleCloseModal}\r\n              className=\"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm\"\r\n            >\r\n          Cancel\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  ),\r\n  PreviewModal: ({ handleDownloadFile, handleCloseModal, ext, path, file }) => (\r\n    <div className=\"fixed inset-0 z-10 overflow-y-auto\">\r\n      <div className=\"flex items-end justify-center min-h-screen h-40 pt-4 px-4 pb-20 text-center sm:block sm:p-0\">\r\n        <div className=\"fixed inset-0 transition-opacity\" aria-hidden=\"true\">\r\n          <div className=\"absolute inset-0 bg-gray-500 opacity-75\" onClick={handleCloseModal}></div>\r\n        </div>\r\n\r\n        <span className=\"hidden sm:inline-block sm:align-middle sm:h-screen\" aria-hidden=\"true\">\r\n      &#8203;\r\n        </span>\r\n\r\n        <div className=\"inline-block align-bottom bg-white rounded-lg text-left shadow-xl transform transition-all sm:my-8 sm:align-middle w-[90vh]\">\r\n          {/* Modal content */}\r\n          <div className=\"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4 !important\">\r\n            <FileViewer\r\n              fileType={ext}\r\n              filePath={path}\r\n            />\r\n          </div>\r\n          <div className=\"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={handleCloseModal}\r\n              className=\"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm\"\r\n            >\r\n          Cancel\r\n            </button>\r\n\r\n            <a\r\n              href={`http://13.213.6.180:8009/milestone/api/v1/file/download/${file}`}\r\n              className=\"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm\"\r\n            >\r\n          Download\r\n            </a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\nexport default Modal\r\n","import React, { useState } from 'react'\r\n\r\nconst TreeNode = ({ node }) => {\r\n  const [expanded, setExpanded] = useState(false)\r\n\r\n  const toggleOn = () => {\r\n    setExpanded(true)\r\n  }\r\n\r\n  const toggleOff = () => {\r\n    setExpanded(false)\r\n    console.log(expanded)\r\n  }\r\n\r\n  return (\r\n    <div className='cursor-pointer px-2 w-[18rem]'\r\n      // onMouseEnter={() => setExpanded(true)}\r\n      // onMouseLeave={() => setExpanded(false)}\r\n    >\r\n      <div className=\"flex justify-between items-center\">\r\n        <div className=\"text-sm font-medium text-gray-900\">{node.site_address}</div>\r\n        <button className='font-bold text-lg px-1 hover:border-2 h-7' onClick={expanded ? toggleOff : toggleOn}>{expanded ? 'X' : '▼'}</button>\r\n      </div>\r\n      {expanded && (\r\n        <div className=\"ml-12 flex justify-between\">\r\n          <div>\r\n            <p>Address: {node.site_address}</p>\r\n            <p>Country: {node.country}</p>\r\n            <p>State: {node.site_state}</p>\r\n            <p>Suburb: {node.site_suburb}</p>\r\n            <p>Contact Person: {node.site_contact_person}</p>\r\n            <p>mobile: {node.site_person_mobile}</p>\r\n            <p>Email: {node.site_person_email}</p>\r\n            <p>Site Status: <a className={`${node.site_status === 'Inactive' ? 'text-red-500' : 'text-yellow-400'}`}>{node.site_status}</a></p>\r\n          </div>\r\n        </div>\r\n      )}\r\n      <div className=\"mt-2\">\r\n        {\r\n          expanded && (<div className='w-full flex items-center flex-row-reverse gap-3'>\r\n            <a href=\"#\" className=\"font-medium text-blue-600 dark:text-blue-500 hover:underline\">\r\n            Edit\r\n            </a>\r\n            <a href=\"#\" className=\"font-medium text-red-500 dark:text-blue-500 hover:underline\">\r\n            Delete\r\n            </a>\r\n          </div>)\r\n        }\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst Tree = ({ data }) => {\r\n  return (\r\n    (data.length > 0) &&\r\n    <div className=\"flex flex-col\">\r\n      <div className=\"-my-2 sm:-mx-6 lg:-mx-8\">\r\n        <div className=\"py-2 align-middle inline-block min-w-full sm:px-6 lg:px-8\">\r\n          <div className=\"shadow overflow-hidden border-b border-gray-200 sm:rounded-lg\">\r\n            <table className=\"min-w-full divide-y divide-gray-200\">\r\n              <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                {data.map((rootNode) => (\r\n                  <tr key={rootNode.id}>\r\n                    <td className=\"px-1 py-1 whitespace-nowrap  hover:bg-gray-100\">\r\n                      <TreeNode node={rootNode} />\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n  )\r\n}\r\n\r\nexport default Tree\r\n","import React, { useEffect, useState } from 'react'\r\nimport httpClientRequest from '../lib/httpClientRequest'\r\nimport ErrorBoundary from '../ErrorBoundary'\r\nimport SiteForm from './company/SiteForm'\r\nimport SiteEntry from './company/SiteEntry'\r\n\r\nexport default function UpdateCompanyModal ({ data, closeModal, updateData }) {\r\n  const [allFieldsData, setAllFieldsData] = useState([])\r\n  const getAllFieldsData = (data) => {\r\n    setAllFieldsData(data)\r\n  }\r\n  const handlesubmitForm = async (e) => {\r\n    e.preventDefault()\r\n    console.log('submit', { ...allFieldsData, ...data })\r\n    const payload = allFieldsData\r\n    if (!payload.companyFieldData) return alert('no data updated')\r\n    const result = await httpClientRequest.put(`/company/?company_id=${data.company_id}`, payload)\r\n    if (!result?.is_success) return alert(result.message)\r\n    alert(result.message)\r\n  }\r\n  return (\r\n    <ErrorBoundary>\r\n      <form onSubmit={(e) => handlesubmitForm(e)}>\r\n        <div className=\"fixed inset-0 z-10 overflow-y-auto\">\r\n          <div className=\"flex items-end justify-center min-h-screen h-40 pt-4 px-4 pb-20 text-center sm:block sm:p-0\">\r\n            <div className=\"fixed inset-0 transition-opacity\" aria-hidden=\"true\">\r\n              <div className=\"absolute inset-0 bg-gray-500 opacity-75\"></div>\r\n            </div>\r\n            {/* ... (unchanged code) */}\r\n            <div className=\"inline-block align-bottom bg-white rounded-lg text-left shadow-xl transform transition-all sm:my-8 sm:align-middle w-[70vh]\">\r\n              {/* Modal content */}\r\n              <div className=\"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4 !important\">\r\n                <div className=\"border p-4\">\r\n                  <h2 className=\"text-lg font-semibold mb-4\">Update Company Details</h2>\r\n                  <SiteForm isUpdate={true} companyData={data} allFieldsData={getAllFieldsData}/>\r\n                </div>\r\n              </div>\r\n              <div className=\"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse\">\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={closeModal}\r\n                  className=\"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm\"\r\n                >\r\n            Cancel\r\n                </button>\r\n\r\n                <button type=\"submit\" className=\"bg-blue-500 text-white p-2 rounded\">Saves</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </ErrorBoundary>\r\n  )\r\n}\r\n","/* eslint-disable react/display-name */\r\n// FileUploadComponent.jsx\r\nimport React, { useState, forwardRef, useImperativeHandle } from 'react'\r\nimport axios from 'axios'\r\n\r\nconst FileUploadComponent = forwardRef((_props, ref) => {\r\n  const [file, setFile] = useState(null)\r\n\r\n  const handleFileChange = (event) => {\r\n    // Update the state when a file is selected\r\n    setFile(null)\r\n    const selectedFile = event.target.files[0]\r\n\r\n    if (selectedFile) {\r\n      const allowedFileTypes = [\r\n        'application/pdf',\r\n        'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\r\n        'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' // Add xlsx file type\r\n      ]\r\n\r\n      if (allowedFileTypes.includes(selectedFile.type)) {\r\n        setFile(selectedFile)\r\n        _props.onFileSelect(selectedFile)\r\n      } else {\r\n        // File type is not allowed\r\n        alert('Please select a valid file type (PDF or DOCX)')\r\n        // Optionally, clear the file input value to prevent submitting the wrong file\r\n        event.target.value = null\r\n      }\r\n    }\r\n  }\r\n\r\n  const handleSaveClick = async (docType) => {\r\n    if (file) {\r\n      const data = new FormData()\r\n      data.append('file', file)\r\n\r\n      const config = {\r\n        method: 'post',\r\n        maxBodyLength: Infinity,\r\n        url: `http://13.213.6.180:8009/milestone/api/v1/file/upload/${docType}`, // Replace with your actual upload URL\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data'\r\n        },\r\n        data\r\n      }\r\n\r\n      try {\r\n        const response = await axios.request(config)\r\n        return response.data\r\n      } catch (error) {\r\n        // Handle the error as needed\r\n      }\r\n    }\r\n  }\r\n\r\n  // Expose the function to the parent component using useImperativeHandle\r\n  useImperativeHandle(ref, () => ({\r\n    handleSaveClick\r\n  }))\r\n\r\n  return (\r\n    <div className='flex-col gap-1 flex'>\r\n      {/* Input for file selection */}\r\n      <label>{_props.title}</label>\r\n      <input type=\"file\" required={_props.required} className='bg-yellow-200' onChange={handleFileChange} />\r\n      {/* Button to trigger file upload */}\r\n      {/* <button onClick={handleSaveClick}>Save</button> */}\r\n    </div>\r\n  )\r\n})\r\n\r\nexport default FileUploadComponent\r\n","import React, { useState } from 'react'\r\nimport Tree from '../TreeNode'\r\nimport FilePreview from '../FilePreview'\r\nimport UpdateCompanyModal from '../UpdateCompanyModal'\r\nimport DivisionTreeNode from '../DivisionTreeNode'\r\nconst CompanyTable = ({ filteredSites, handleDelete }) => {\r\n  const [modal, setModal] = useState(false)\r\n  const [companyData, setCompanyData] = useState({})\r\n  console.log(filteredSites)\r\n  const updateCompanyModal = (data) => {\r\n    setCompanyData(data)\r\n    setModal(true)\r\n  }\r\n\r\n  const closeModal = () => {\r\n    setModal(false)\r\n  }\r\n  return (\r\n    <div className=\"shadow-md sm:rounded-lg\">\r\n      { modal && companyData && <UpdateCompanyModal data={companyData} closeModal={closeModal}/> }\r\n      <table className=\"w-full  text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400\">\r\n        <thead className=\"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400\">\r\n          <tr>\r\n            <th></th>\r\n            <th key='sites' scope=\"col\" className=\"px-6 py-3\">\r\n              Sites\r\n            </th>\r\n            <th key='division' scope=\"col\" className=\"px-6 py-3\">\r\n              Department\r\n            </th>\r\n            { filteredSites.length > 0 &&\r\n              Object.keys(filteredSites[0]).filter(item => !['id', 'sites', 'created_at', 'updated_at', 'company_id', 'division'].includes(item)).map(item => (\r\n                <th key={item} scope=\"col\" className=\"px-6 py-3\">\r\n                  {item}\r\n                </th>\r\n              ))\r\n            }\r\n          </tr>\r\n        </thead>\r\n        <tbody className='  h-[100%] '>\r\n          { filteredSites.length > 0 && filteredSites.map((site) => (\r\n            <tr key={site.id} className=\"  bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-200 cursor-pointer dark:hover:bg-gray-600\">\r\n              <td className=\"flex flex-col px-6 py-4 gap-2 items-center  justify-center\">\r\n                <a onClick={() => updateCompanyModal(site)} href=\"#\" className=\"font-medium text-blue-600 dark:text-blue-500 hover:underline\">\r\n              ✎\r\n                </a>\r\n                <a onClick={() => handleDelete(site.company_id)} href=\"#\" className=\"font-medium text-red-500 dark:text-blue-500 hover:underline\">\r\n              🗑️\r\n                </a>\r\n              </td>\r\n              <td className=\"px-6 py-4 whitespace-nowrap \">\r\n                <Tree data={site.sites}/>\r\n              </td>\r\n              <td className=\"px-6 py-4 whitespace-nowrap \">\r\n                <DivisionTreeNode data={site.division}/>\r\n              </td>\r\n              {\r\n                Object.keys(filteredSites[0]).filter(item => !['id', 'organisation_structure', 'company_file', 'sites', 'created_at', 'updated_at', 'company_id', 'division'].includes(item)).map(item => (\r\n\r\n                  <td key={site[item]} className=\"px-6 py-4\">\r\n                    {site[item]}\r\n                  </td>\r\n                ))\r\n              }\r\n              <td key='organization_structure' className=\"px-6 py-4 text-textPrimary hover:underline\">\r\n                <a target='_blank' href={`http://13.213.6.180:8009/milestone/api/v1/file/read/${site.organisation_structure}?docType=organisation`} rel=\"noreferrer\">{site.organisation_structure}</a>\r\n              </td>\r\n              <td key='company_file' className=\"px-6 py-4 text-textPrimary hover:underline\">\r\n                <a target='_blank' href={`http://13.213.6.180:8009/milestone/api/v1/file/read/${site.company_file}?docType=company_file`} rel=\"noreferrer\">{site.company_file}</a>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CompanyTable\r\n","import React, { useState, useEffect } from 'react'\r\n\r\nconst SiteEntry = ({ sites, isUpdate, onValuesChange }) => {\r\n  const initialFields = [\r\n    { name: 'site_address', label: 'Site address', value: '' },\r\n    { name: 'country', label: 'Country', value: '' },\r\n    { name: 'site_state', label: 'State', value: '' },\r\n    { name: 'site_suburb', label: 'Suburb', value: '' },\r\n    { name: 'site_contact_person', label: 'Contact Person Name', value: '' },\r\n    { name: 'site_person_mobile', label: 'Contact Person Mobile', value: '', type: 'number' },\r\n    { name: 'site_person_email', label: 'Contact Person Email', value: '' },\r\n    { name: 'site_status', label: 'Status', value: 'Inactive', options: [{ name: 'Active' }, { name: 'Inactive' }] }\r\n  ]\r\n\r\n  const [divs, setDivs] = useState([{ id: 1, fields: initialFields }]) // Initial array with one div\r\n  const [nextDivId, setNextDivId] = useState(2) // Initial value for the next div id\r\n\r\n  useEffect(() => {\r\n    // Reset fields when the parent container form is submitted\r\n\r\n    if (isUpdate === true) {\r\n      console.log(sites)\r\n\r\n      const siteData = []\r\n      sites.forEach((element, index) => {\r\n        const fields = initialFields\r\n        fields.forEach(item => {\r\n          item.value = element[item.name]\r\n        })\r\n        siteData.push({ id: index, fields })\r\n        setNextDivId(prevNextDivId => prevNextDivId + 1)\r\n      })\r\n      // fields.forEach(item => {\r\n      //   item.value = sites[item.name]\r\n      // })\r\n      console.log(siteData)\r\n      setDivs(siteData)\r\n\r\n      updateValue()\r\n    }\r\n  }, [isUpdate])\r\n\r\n  const handleAddDiv = () => {\r\n    setDivs(prevDivs => [...prevDivs, { id: nextDivId, fields: initialFields }])\r\n    setNextDivId(prevNextDivId => prevNextDivId + 1)\r\n    updateValue()\r\n  }\r\n\r\n  const handleRemoveDiv = (divIdToRemove) => {\r\n    setDivs(prevDivs => prevDivs.filter(div => div.id !== divIdToRemove))\r\n    updateValue()\r\n  }\r\n\r\n  const handleFieldChange = (divId, fieldName, value, type = 'text') => {\r\n    const numericRegex = /^[0-9]*$/\r\n    console.log('type', type)\r\n    if (type === 'number' && !numericRegex.test(value)) return\r\n\r\n    setDivs(prevDivs => prevDivs.map(div =>\r\n      div.id === divId\r\n        ? {\r\n          ...div,\r\n          fields: div.fields.map(field =>\r\n            field.name === fieldName ? { ...field, value } : field\r\n          )\r\n        }\r\n        : div\r\n    ))\r\n    updateValue()\r\n  }\r\n\r\n  const updateValue = () => {\r\n    const allValues = divs.reduce((acc, cur) => {\r\n      return { ...acc, [cur.id]: cur.fields }\r\n    }, {})\r\n    onValuesChange(allValues)\r\n  }\r\n\r\n  return (\r\n    <div className='flex flex-col gap-1  bg-secondary border-2 p-1'>\r\n      {divs.map(({ id, fields }, index) => (\r\n        <div key={id} className=\"grid md:grid-cols-1 md:gap-6 mt-5\">\r\n          <div className=\"relative z-0 w-full pb-4 group bg-primary p-5\">\r\n            <div className='flex justify-between pb-4'>\r\n              <h1>Site {index + 1}</h1>\r\n              {\r\n                index > 0 && (\r\n                  <button className='bg-red-500 hover:bg-accent text-primary hover:text-textPrimary border rounded-md px-[20px] py-[5px] ' onClick={() => handleRemoveDiv(id)}>Remove</button>\r\n                )\r\n              }\r\n            </div>\r\n            <div className='flex-col grid md:grid-cols-2 md:gap-6'>\r\n              {fields.map(field => (\r\n                <div key={field.name} className=\"mb-4 relative z-0\">\r\n                  {field.options\r\n                    ? (\r\n                      <>\r\n                        <label htmlFor={field.name} className=\"absolute text-sm text-textAccent dark:text-green-500 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto\">{field.label}</label>\r\n                        <select\r\n                          id={field.name}\r\n                          value={field.value}\r\n                          onChange={(e) => handleFieldChange(id, field.name, e.target.value, field.type)}\r\n                          className=\"mt-1 p-2 border rounded w-full\"\r\n                          required\r\n                        >\r\n                          {field.options.map((option) => (\r\n                            <option key={option.name} value={option.name}>\r\n                              {option.name}\r\n                            </option>\r\n                          ))}\r\n                        </select>\r\n                      </>\r\n                    )\r\n                    : (\r\n                      <div>\r\n                        <div className=\"relative z-0\">\r\n                          <input\r\n                            value={field.value}\r\n                            onChange={(e) => handleFieldChange(id, field.name, e.target.value, field.type)}\r\n                            type=\"text\"\r\n                            id={field.name}\r\n                            aria-describedby=\"standard_success_help\"\r\n                            className=\"block py-2.5 px-0 w-full text-sm text-textAccent bg-transparent border-0 border-b-2 border-textAccent appearance-none dark:text-white dark:border-green-500 dark:focus:border-green-500 focus:outline-none focus:ring-0 peer\"\r\n                            placeholder=\" \"\r\n                          />\r\n                          <label htmlFor={field.name} className=\"absolute text-sm text-textAccent dark:text-green-500 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto\">{field.label}</label>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ))}\r\n      <a className='bg-secondary hover:bg-accent text-gray-600 hover:text-textPrimary border rounded-md px-[20px] py-[5px] w-[120px] cursor-pointer' onClick={handleAddDiv}>New Site</a>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SiteEntry\r\n","import React, { useState, useEffect } from 'react'\r\n\r\nconst DivisionEntry = ({ isUpdate, divisionData, onValuesChange }) => {\r\n  const initialFields = [\r\n    { name: 'department_name', label: 'Department', value: '' },\r\n    { name: 'department_responsible_person', label: 'Department Responsible person', value: '' },\r\n    { name: 'staff', label: 'Department Number of Staff', value: '', type: 'number' }\r\n  ]\r\n\r\n  const [divs, setDivs] = useState([{ id: 1, fields: initialFields }]) // Initial array with one div\r\n  const [nextDivId, setNextDivId] = useState(2) // Initial value for the next div id\r\n\r\n  const handleAddDiv = () => {\r\n    setDivs(prevDivs => [...prevDivs, { id: nextDivId, fields: initialFields }])\r\n    setNextDivId(prevNextDivId => prevNextDivId + 1)\r\n  }\r\n\r\n  const handleRemoveDiv = (divIdToRemove) => {\r\n    setDivs(prevDivs => prevDivs.filter(div => div.id !== divIdToRemove))\r\n    updateValue()\r\n  }\r\n\r\n  const handleFieldChange = (divId, fieldName, value, type = 'text') => {\r\n    const numericRegex = /^[0-9]*$/\r\n    console.log('type', type)\r\n    if (type === 'number' && !numericRegex.test(value)) return\r\n\r\n    setDivs(prevDivs => prevDivs.map(div =>\r\n      div.id === divId\r\n        ? {\r\n          ...div,\r\n          fields: div.fields.map(field =>\r\n            field.name === fieldName ? { ...field, value } : field\r\n          )\r\n        }\r\n        : div\r\n    ))\r\n\r\n    updateValue()\r\n  }\r\n\r\n  useEffect(() => {\r\n    // Reset fields when the parent container form is submitted\r\n\r\n    if (isUpdate === true) {\r\n      let divData = []\r\n      divisionData.forEach((element, index) => {\r\n        console.log(divisionData)\r\n        console.log(initialFields)\r\n        const fields = [...initialFields]\r\n        fields.forEach(item => {\r\n          item.value = element[item.name]\r\n        })\r\n        divData = [...divData, { id: index, fields }]\r\n        console.log('fields', fields)\r\n        console.log(`divdata ${index}`, divData)\r\n        setNextDivId(prevNextDivId => prevNextDivId + 1)\r\n      })\r\n      // setDivs(divData)\r\n      setDivs(divData)\r\n      console.log(divs)\r\n      updateValue()\r\n    }\r\n  }, [])\r\n\r\n  const updateValue = () => {\r\n    const allValues = divs.reduce((acc, cur) => {\r\n      return { ...acc, [cur.id]: cur.fields }\r\n    }, {})\r\n    onValuesChange(allValues)\r\n  }\r\n\r\n  return (\r\n    <div className='flex flex-col gap-1  bg-secondary border-2 p-1'>\r\n      {divs.map(({ id, fields }, index) => (\r\n        <div key={id} className=\"grid md:grid-cols-1 md:gap-6 mt-5  \">\r\n          <div className=\"relative z-0 w-full pb-4 group bg-primary p-5\">\r\n            <div className='flex justify-between pb-4'>\r\n              <h1>Department {index + 1}</h1>\r\n              {\r\n                index > 0 && (\r\n                  <button className='bg-red-500 hover:bg-accent text-primary hover:text-textPrimary border rounded-md px-[20px] py-[5px] ' onClick={() => handleRemoveDiv(id)}>Remove</button>\r\n                )\r\n              }\r\n            </div>\r\n            <div className=''>\r\n              {fields.map(field => (\r\n                <div key={field.name} className=\"mb-4 relative z-0\">\r\n                  {field.options\r\n                    ? (\r\n                      <>\r\n                        <label htmlFor={field.name} className=\"absolute text-sm text-textAccent dark:text-green-500 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto\">{field.label}</label>\r\n                        <select\r\n                          id={field.name}\r\n                          value={field.value}\r\n                          onChange={(e) => handleFieldChange(id, field.name, e.target.value, field.type)}\r\n                          className=\"mt-1 p-2 border rounded w-full\"\r\n                          required\r\n                        >\r\n                          {field.options.map((option) => (\r\n                            <option key={option.name} value={option.name}>\r\n                              {option.name}\r\n                            </option>\r\n                          ))}\r\n                        </select>\r\n                      </>\r\n                    )\r\n                    : (\r\n                      <div>\r\n                        <div className=\"relative z-0\">\r\n                          <input\r\n                            value={field.value}\r\n                            onChange={(e) => handleFieldChange(id, field.name, e.target.value, field.type)}\r\n                            type=\"text\"\r\n                            id={field.name}\r\n                            aria-describedby=\"standard_success_help\"\r\n                            className=\"block py-2.5 px-0 w-full text-sm text-textAccent bg-transparent border-0 border-b-2 border-textAccent appearance-none dark:text-white dark:border-green-500 dark:focus:border-green-500 focus:outline-none focus:ring-0 peer\"\r\n                            placeholder=\" \"\r\n                          />\r\n                          <label htmlFor={field.name} className=\"absolute text-sm text-textAccent dark:text-green-500 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto\">{field.label}</label>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ))}\r\n      <a className='bg-secondary hover:bg-accent text-gray-600 hover:text-textPrimary border rounded-md px-[20px] py-[5px] w-[135px] cursor-pointer' onClick={handleAddDiv}>New Division</a>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default DivisionEntry\r\n","import React from 'react'\r\n\r\nconst Checkbox = ({ id, label, checked, onChange }) => {\r\n  return (\r\n    <div className=\"flex items-center\">\r\n      <input\r\n        type=\"checkbox\"\r\n        id={id}\r\n        className=\"form-checkbox h-5 w-5 text-indigo-600\"\r\n        checked={checked}\r\n        onChange={onChange}\r\n      />\r\n      <label htmlFor={id} className=\"ml-2\">\r\n        {label}\r\n      </label>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Checkbox\r\n","import React, { useState, useEffect } from 'react'\r\nimport Checkbox from './CheckBox'\r\n\r\nconst CheckboxGroup = ({ options, onCheckboxChange }) => {\r\n  const initialState = options.reduce((acc, option) => {\r\n    acc[option.id] = false\r\n    return acc\r\n  }, {})\r\n\r\n  const [checkboxes, setCheckboxes] = useState(initialState)\r\n\r\n  useEffect(() => {\r\n    // Call the callback function with the updated checkbox values\r\n    onCheckboxChange(checkboxes)\r\n  }, [checkboxes])\r\n\r\n  const handleCheckboxChange = (key) => {\r\n    setCheckboxes((prevCheckboxes) => ({\r\n      ...prevCheckboxes,\r\n      [key]: !prevCheckboxes[key]\r\n    }))\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      {options.map((option) => (\r\n        <Checkbox\r\n          key={option.id}\r\n          id={option.id}\r\n          label={option.label}\r\n          checked={checkboxes[option.id]}\r\n          onChange={() => handleCheckboxChange(option.id)}\r\n        />\r\n      ))}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default CheckboxGroup\r\n","// SiteForm.js\r\nimport React, { useState, useRef, useEffect } from 'react'\r\nimport SiteEntry from './SiteEntry'\r\nimport DivisionEntry from './DivisionEntry'\r\nimport FileUploadComponent from '../Upload'\r\nimport CheckboxGroup from '../CheckBoxGroup'\r\nimport MyDatePicker from '../DatePicker'\r\n\r\nconst SiteForm = ({ companyData, submited, isUpdate, handleSiteInputChange, removeSite, allFieldsData, companyFormData }) => {\r\n  const formInitialData = [\r\n    { name: 'company_organization', label: 'Organisation name', value: '' },\r\n    { name: 'company_type_of_business', label: 'Type of business', value: '' },\r\n    { name: 'company_text_file_number', label: 'Tax file number', value: '' },\r\n    { name: 'company_acn_number', label: 'ACN number', value: '', type: 'number' },\r\n    { name: 'company_communication_address', label: 'Communication Address ', value: '' },\r\n    { name: 'company_country', label: 'Country', value: '' },\r\n    { name: 'company_state', label: 'State', value: '' },\r\n    { name: 'company_suburb', label: 'Suburb', value: '' },\r\n    { name: 'contact_person_name', label: 'Contact person name', value: '' },\r\n    { name: 'contact_person_mobile_no', label: 'Contact person mobile no', value: '', type: 'number' },\r\n    { name: 'contact_person_email', label: 'Contact person email', value: '' },\r\n    { name: 'timezone', label: 'Timezone', value: '' },\r\n    { name: 'domain', label: 'Domain', value: 'No', options: [{ name: 'No' }, { name: 'Yes' }] },\r\n    { name: 'account_creation_date', label: 'Account creation date', value: new Date().toISOString().split('T')[0], type: 'date' },\r\n    { name: 'account_expiry_date', label: 'Account expiry date', value: '', type: 'date' },\r\n    {\r\n      name: 'information_security_framework',\r\n      label: 'Information Security Framework / Products',\r\n      value: 'ISO/IEC 27001',\r\n      options: [\r\n        { name: 'ISO/IEC 27001' },\r\n        { name: ' ISO 9001' },\r\n        { name: ' ISO 14001' },\r\n        { name: 'NIST' },\r\n        { name: 'SOC' },\r\n        { name: 'CSA' }]\r\n    },\r\n    {\r\n      name: 'license_allocated',\r\n      label: 'License allocated',\r\n      value: 'No license',\r\n      options: [\r\n        { name: 'No license' },\r\n        { name: 'demo license' },\r\n        { name: '0-5' },\r\n        { name: '5-15' },\r\n        { name: '15-30' },\r\n        { name: '30-60' },\r\n        { name: '60-120' },\r\n        { name: '120-240' },\r\n        { name: '240-480' },\r\n        { name: '480-700' },\r\n        { name: '700-1000' },\r\n        { name: '1000 and above' }\r\n      ]\r\n    }\r\n  ]\r\n  const [fields, setFields] = useState([{}])\r\n\r\n  useEffect(() => {\r\n    setFields(formInitialData)\r\n    // Reset fields when the parent container form is submitted\r\n    console.log(isUpdate)\r\n    if (isUpdate === true) {\r\n      console.log(formInitialData)\r\n      console.log(companyData)\r\n      formInitialData.forEach(item => {\r\n        item.value = companyData[item.name]\r\n      })\r\n      setFields(formInitialData)\r\n      const mappedData = formInitialData.reduce((acc, cur) => {\r\n        return { ...acc, [cur.name]: cur.value }\r\n      }, {})\r\n\r\n      setCompanyFieldData(mappedData)\r\n      const data = {\r\n        siteFieldData,\r\n        companyFieldData: mappedData,\r\n        selectedCheckboxes,\r\n        organizationChart,\r\n        divisionFieldData\r\n      }\r\n      console.log('update filedsasd', data)\r\n      allFieldsData(data)\r\n    }\r\n  }, [submited])\r\n\r\n  const checkboxOptions = [\r\n    { id: 'Module_1', label: 'Module 1' },\r\n    { id: 'Module_2', label: 'Module 2' },\r\n    { id: 'module_3', label: 'module 3' }\r\n  ]\r\n\r\n  const [siteFieldData, setSiteFieldData] = useState({})\r\n  const [divisionFieldData, setDivisionFieldData] = useState({})\r\n  const [companyFieldData, setCompanyFieldData] = useState({})\r\n  const [selectedCheckboxes, setSelectedCheckboxes] = useState({})\r\n  const [organizationChart, setOrganizationChart] = useState(null)\r\n\r\n  const handleSiteValuesChange = async (updatedValues) => {\r\n    // eslint-disable-next-line array-callback-return\r\n    const siteData = Object.keys(updatedValues).map(item =>\r\n      updatedValues[item].reduce((fieldData, datum) => ({\r\n        ...fieldData,\r\n        [datum.name]: datum.value\r\n      }), {})\r\n    )\r\n    setSiteFieldData(siteData)\r\n    handleAllFields()\r\n  }\r\n\r\n  const handleDivisionValuesChange = async (updatedValues) => {\r\n    // eslint-disable-next-line array-callback-return\r\n    const divisionData = Object.keys(updatedValues).map(item =>\r\n      updatedValues[item].reduce((fieldData, datum) => ({\r\n        ...fieldData,\r\n        [datum.name]: datum.value\r\n      }), {})\r\n    )\r\n\r\n    setDivisionFieldData(divisionData)\r\n    handleAllFields()\r\n  }\r\n\r\n  const handleFieldChange = async (name, value, type) => {\r\n    const numericRegex = /^[0-9]*$/\r\n    console.log('type', type)\r\n    if (type === 'number' && !numericRegex.test(value)) return\r\n\r\n    const fieldIndex = fields.findIndex((field) => field.name === name)\r\n    const updatedFields = [...fields]\r\n    updatedFields[fieldIndex].value = value\r\n    setFields(updatedFields)\r\n    await handleAllFields()\r\n  }\r\n\r\n  const handleCheckboxChange = (newCheckboxes) => {\r\n    setSelectedCheckboxes(newCheckboxes)\r\n    handleAllFields()\r\n  }\r\n\r\n  const handleOrganizationFileSelect = (file) => {\r\n    console.log(file)\r\n    setOrganizationChart(file)\r\n  }\r\n\r\n  const handleAllFields = async () => {\r\n    if (!fields) return\r\n    const mappedData = await fields.reduce((acc, cur) => {\r\n      return { ...acc, [cur.name]: cur.value }\r\n    }, {})\r\n\r\n    setCompanyFieldData(mappedData)\r\n    console.log('mapped', mappedData)\r\n\r\n    const data = {\r\n      siteFieldData,\r\n      companyFieldData: mappedData,\r\n      selectedCheckboxes,\r\n      organizationChart,\r\n      divisionFieldData\r\n    }\r\n    console.log('update fileds', data)\r\n    allFieldsData(data)\r\n  }\r\n\r\n  return (\r\n    <div className='w-full gap-5 flex flex-col'>\r\n      <h1>{ !isUpdate ? 'Create New Company' : '' }</h1>\r\n      <div className=\"grid md:grid-cols-2 md:gap-6\">\r\n\r\n        { fields.length > 0 &&\r\n                    fields.map((field) => (\r\n                      <div key={field.name} className=\"mb-4 relative z-0\">\r\n                        {field.options\r\n                          ? (\r\n                            <><label htmlFor={field.type} className=\"absolute text-sm text-gray-600 dark:text-green-500 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto\">{field.label}</label><select\r\n                              id={field.name}\r\n                              value={field.value}\r\n                              onChange={(e) => handleFieldChange(field.name, e.target.value, field.type)}\r\n                              className=\"mt-1 p-2 border rounded w-full bg-secondary\"\r\n                              required\r\n                            >\r\n                              {field.options.map((option) => (\r\n                                <option key={option.name} value={option.name}>\r\n                                  {option.name}\r\n                                </option>\r\n                              ))}\r\n                            </select></>\r\n                          )\r\n                          : (\r\n                            <div>\r\n                              <div className=\"relative z-0\">\r\n                                {\r\n                                  <input value={field.value} onChange={(e) => handleFieldChange(field.name, e.target.value, field.type)} type={field.type !== 'date' ? 'text' : 'date'} aria-describedby=\"standard_success_help\" className=\"block py-2.5 px-0 w-full text-sm text-textAccent bg-transparent border-0 border-b-2 border-textAccent appearance-none dark:text-white dark:border-green-500 dark:focus:border-green-500 focus:outline-none focus:ring-0 peer\" placeholder=\" \" required/>\r\n                                }\r\n                                <label htmlFor={field.name} className=\"absolute text-sm text-gray-600 dark:text-green-500 duration-300 transform -translate-y-6 scale-75 top-3 -z-10 origin-[0] peer-focus:start-0 peer-placeholder-shown:scale-100 peer-placeholder-shown:translate-y-0 peer-focus:scale-75 peer-focus:-translate-y-6 rtl:peer-focus:translate-x-1/4 rtl:peer-focus:left-auto\">{field.label}</label>\r\n                              </div>\r\n                              {/* <p id=\"standard_success_help\" class=\"mt-2 text-xs text-green-600 dark:text-green-400\"><span class=\"font-medium\">Well done!</span> Some success message.</p> */}\r\n                            </div>\r\n                          )}\r\n                      </div>\r\n                    ))}\r\n      </div>\r\n      { !isUpdate && <SiteEntry sites={companyData?.sites} isUpdate={isUpdate} onValuesChange={handleSiteValuesChange} /> }\r\n      { !isUpdate && <DivisionEntry divisionData={companyData?.division} isUpdate={isUpdate} onValuesChange={handleDivisionValuesChange}/> }\r\n      { !isUpdate &&\r\n        <div className=\"mb-4 relative z-0 grid md:grid-cols-2 md:gap-6 border-2 p-5\">\r\n          <div className=\"relative z-0\">\r\n            <FileUploadComponent onFileSelect={handleOrganizationFileSelect} required={true} title=\"Organization Structure\"/>\r\n          </div>\r\n        </div>\r\n      }\r\n      { !isUpdate &&\r\n        <div className=\"mb-4 relative z-0 grid md:grid-cols-2 md:gap-6 border-2 p-5\">\r\n          <div className=\"gap-2 flex\">\r\n            <div className=\"container mx-auto p-4\">\r\n              <h1 className=\"text-2xl font-bold mb-4\">Module Assigned</h1>\r\n              <CheckboxGroup title=\"\" options={checkboxOptions} onCheckboxChange={handleCheckboxChange} />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      }\r\n      {/* <span onClick={((prevCount => prevCount + 1)} className=\"cursor-pointer w-[80px] text-center bg-blue-400 p-2 text-[10px] rounded-lg text-white\">New Site</span> */}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default SiteForm\r\n"],"names":["userData","decryptFromStorage","console","log","Company","addNew","setAddNew","useState","searchTerm","setSearchTerm","sites","setSites","company","setCompany","fields","setFields","fetchingData","setFetchingData","saving","setSaving","pageSize","page","setPage","deleteItemId","setDeleteItemId","companyFIle","setCompanyFile","isModalOpen","setModalOpen","newCompanyData","setNewCompanyData","useRef","useEffect","fetchData","async","companyData","httpClientRequest","get","concat","company_id","is_success","alert","message","uploadFile","fileUploaded","uploadPromises","filesToUpload","key","file","organizationChart","target","company_file","uploadPromise","upload","then","response","filename","push","Promise","all","error","filteredSites","data","rows","length","filter","item","handleCloseModal","_jsx","className","children","_jsxs","id","Modal","DeleteModal","handleConfirmDelete","delete","htmlFor","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","type","placeholder","value","onChange","e","onClick","CompanyTable","handleDelete","count","onSubmit","preventDefault","payload","companyFieldData","organisation_structure","organizationChartFileName","companyFileFileName","companyDataResult","post","createNewCompany","_Fragment","SiteForm","submited","allFieldsData","handleInputChange","field","handleSiteInputChange","prevSites","map","site","removeSite","addNewSite","Date","now","phone","FileUploadComponent","onFileSelect","title","href","TreeNode","_ref","node","expanded","setExpanded","department_name","toggleOff","toggleOn","department_responsible_person","_ref2","rootNode","PreviewModal","handleDownloadFile","ext","path","FileViewer","fileType","filePath","site_address","country","site_state","site_suburb","site_contact_person","site_person_mobile","site_person_email","site_status","UpdateCompanyModal","closeModal","updateData","setAllFieldsData","ErrorBoundary","result","put","handlesubmitForm","isUpdate","forwardRef","_props","ref","setFile","handleSaveClick","FormData","append","config","method","maxBodyLength","Infinity","url","docType","headers","axios","request","useImperativeHandle","required","event","selectedFile","files","includes","modal","setModal","setCompanyData","scope","Object","keys","Tree","DivisionTreeNode","division","rel","onValuesChange","initialFields","name","label","options","divs","setDivs","nextDivId","setNextDivId","siteData","forEach","element","index","prevNextDivId","updateValue","handleFieldChange","divId","fieldName","arguments","undefined","test","prevDivs","div","allValues","reduce","acc","cur","handleRemoveDiv","divIdToRemove","option","handleAddDiv","divisionData","divData","checked","onCheckboxChange","initialState","checkboxes","setCheckboxes","Checkbox","handleCheckboxChange","prevCheckboxes","companyFormData","formInitialData","toISOString","split","mappedData","setCompanyFieldData","siteFieldData","selectedCheckboxes","divisionFieldData","setSiteFieldData","setDivisionFieldData","setSelectedCheckboxes","setOrganizationChart","fieldIndex","findIndex","updatedFields","handleAllFields","SiteEntry","updatedValues","fieldData","datum","DivisionEntry","CheckboxGroup","newCheckboxes"],"sourceRoot":""}